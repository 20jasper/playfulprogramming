---
import PostList from "components/post-card-list/post-card-list.astro";
import Pagination from "components/pagination/pagination.astro";
import { Page } from "astro";
import { PostInfo } from "types/PostInfo";
import ProfileHeader from "./profile-header/profile-header.astro";
import { getUnicornProfilePicMap } from "utils/get-unicorn-profile-pic-map";

export interface UnicornTemplateProps {
	unicorn: any;
	posts: PostInfo[];
	rootURL: string;
	page: Pick<
		Page<PostInfo>,
		"total" | "currentPage" | "size" | "lastPage" | "url"
	>;
}

const { unicorn, page, rootURL, posts } = Astro.props as UnicornTemplateProps;
const unicornProfilePicMap = await getUnicornProfilePicMap();
---

<!-- <PostListProvider
posts={authoredPosts}
numberOfPages={numberOfPages}
limitNumber={postsPerPage}
pageIndex={pageNum}
> -->
<ProfileHeader unicornData={unicorn} />
<main>
	<!-- <FilterSearchBar>
    <WordCount
      wordCount={wordCount}
      numberOfArticles={authoredPosts.length}
    />
  </FilterSearchBar> -->
	<PostList
		listAriaLabel={`List of posts written by ${unicorn.name}`}
		postsToDisplay={posts}
		unicornProfilePicMap={unicornProfilePicMap}
	/>
</main>
<Pagination page={page} rootURL={rootURL} />
<!-- <Pagination absolutePath={basePath} />
</PostListProvider> -->
