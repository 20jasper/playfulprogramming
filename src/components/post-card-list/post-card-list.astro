---
import listStyle from "./post-card-list.module.scss";
import { PostCard } from "../post-card/post-card";
import { ExtendedPostInfo } from "types/index";
import { ProfilePictureMap } from "utils/get-unicorn-profile-pic-map";
// import { PostListContext } from "constants/post-list-context";

export interface PostListProps {
	showWordCount?: boolean;
	numberOfArticles?: number;
	wordCount?: number;
	unicornData?: ExtendedPostInfo["authorsMeta"];
	listAriaLabel: string;
	postsToDisplay: ExtendedPostInfo[];
	unicornProfilePicMap: ProfilePictureMap;
}
/**
 * unicornData - The data with the associated post. If present - you're on profile page
 */

const { listAriaLabel, postsToDisplay, unicornProfilePicMap } =
	Astro.props as PostListProps;
---

<div style={{ display: "none" }} id="search-post-list-container">
	<div class={listStyle.postsListContainer}></div>
</div>
<ul
	class={listStyle.postsListContainer}
	aria-label={listAriaLabel}
	role="list"
	id="post-list-container"
>
	{
		postsToDisplay.map((post) => (
			<PostCard post={post} unicornProfilePicMap={unicornProfilePicMap} />
		))
	}
</ul>
