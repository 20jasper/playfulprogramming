---
import BlockingThemeChangerScript from "../page-components/layouts/blocking-theme-changer-script.astro";
import Layout from "../components/layout/layout.astro";
import "../global.scss";
import { Languages } from "types/index";

interface DocumentProps {
	lang?: Languages;
	disableThemeToggle?: boolean;
}

let { lang, disableThemeToggle } = Astro.props as DocumentProps;
lang ??= "en";
---

<html lang={lang} class="light">
	<head>
		<meta name="viewport" content="width=device-width" />
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<link rel="manifest" href="/manifest.json" />
		<meta name="theme-color" content="#127db3" />
		<link
			rel="apple-touch-icon"
			sizes="48x48"
			href="/icons/icon-48x48.png?v=2a"
		/>
		<link
			rel="apple-touch-icon"
			sizes="72x72"
			href="/icons/icon-72x72.png?v=2a"
		/>
		<link
			rel="apple-touch-icon"
			sizes="96x96"
			href="/icons/icon-96x96.png?v=2a"
		/>
		<link
			rel="apple-touch-icon"
			sizes="144x144"
			href="/icons/icon-144x144.png?v=2a"
		/>
		<link
			rel="apple-touch-icon"
			sizes="192x192"
			href="/icons/icon-192x192.png?v=2a"
		/>
		<link
			rel="apple-touch-icon"
			sizes="256x256"
			href="/icons/icon-256x256.png?v=2a"
		/>
		<link
			rel="apple-touch-icon"
			sizes="384x384"
			href="/icons/icon-384x384.png?v=2a"
		/>
		<link
			rel="apple-touch-icon"
			sizes="512x512"
			href="/icons/icon-512x512.png?v=2a"
		/>
		<script defer src="/uninstall-sw.js" is:inline></script>
		<script
			defer
			data-domain="unicorn-utterances.com"
			src="/areyoumyuser/js/script.js"
			data-api="/areyoumyuser/api/event"
		></script>
		<script is:inline>
			window.plausible =
				window.plausible ||
				function () {
					(window.plausible.q = window.plausible.q || []).push(arguments);
				};
		</script>
		<slot name="head" />
	</head>
	<body>
		<BlockingThemeChangerScript />
		<Layout disableThemeToggle={disableThemeToggle}>
			<slot />
		</Layout>
		<slot name="post-body" />
	</body>
</html>
