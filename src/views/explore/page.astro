---
import { PostInfo } from "types/index";
import { PostCardGrid } from "src/components/post-card/post-card-grid";
import { getUnicornProfilePicMap } from "utils/get-unicorn-profile-pic-map";
import { Pagination } from "components/pagination/pagination";
import { Page } from "astro";
import { getPrefixLanguageFromPath } from "utils/translations";

export interface PageProps {
	posts: PostInfo[];
	page: Pick<Page<any>, "currentPage" | "lastPage">;
}

const { posts, page } = Astro.props as PageProps;
const unicornProfilePicMap = await getUnicornProfilePicMap();
const locale = getPrefixLanguageFromPath(Astro.url.pathname);
---

<PostCardGrid
	expanded={true}
	listAriaLabel="List of posts"
	postsToDisplay={posts}
	unicornProfilePicMap={unicornProfilePicMap}
/>

<Pagination page={page} />
