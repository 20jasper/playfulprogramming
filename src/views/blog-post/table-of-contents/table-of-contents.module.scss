@import "src/tokens/index";

:root {

	--toc_header_padding-top: var(--site-spacing);
	--toc_header_padding-horizontal: var(--site-spacing);
	--toc_header_padding-bottom: var(--spc-4x);
	--toc_header_gap: var(--site-spacing);

	--toc_list_padding-horizontal: var(--spc-4x);

	--toc_item_min-height: var(--min-target-size_m);
	--toc_item_padding-start: var(--spc-4x);
	--toc_item_padding-end: var(--spc-4x);
	--toc_item_padding-vertical: var(--spc-2x);

	--toc_sub-item_padding-start: var(--spc-3x);
	--toc_sub-item_dot_margin-end: var(--spc-3x);
	--toc_sub-item_dot_size: 16px;

	--toc_label_color: var(--foreground_emphasis-medium);
	--toc_label_color_selected: var(--foreground_emphasis-high);

	--toc_item_background-color_hovered: var(--surface_primary_emphasis-medium);
	--toc_item_background-color_pressed: var(--surface_primary_emphasis-high);
	--toc_item_background-color_selected: var(--surface_primary_emphasis-low);
	--toc_item_background-color_focused: var(--background_focus);

	--toc_subheading-dot_color: var(--primary_default);
	--toc_subheading-dot_color_focused: var(--foreground_emphasis-high);

	--toc_focus-outline_color: var(--focus-outline_primary);
	--toc_focus-outline_width: var(--border-width_focus);

	--toc_divider_width: var(--border-width_s);
	// --background_disabled applied to background
	--toc_divider_color: #cddbe7;

	--toc_arrow_color: var(--foreground_emphasis-high);
	--toc_arrow_color_selected: var(--primary);

	@include until($tablet) {
		--toc_list_padding-horizontal: var(--spc-2x);
	}

	@include until($mobile) {
		--toc_list_padding-horizontal: 0px;

		--toc_header_padding-top: var(--site-spacing);
		--toc_header_padding-horizontal: var(--site-spacing);
		--toc_header_padding-bottom: var(--site-spacing);
	}
}

.container {
	@include darkTheme() {
		--toc_divider_color: #253e4c;
	}
}

.container {
	position: sticky;
	top: var(--toc_header_padding-top);
}

.tocTitle {
	margin: var(--toc_header_padding-top) var(--toc_header_padding-horizontal) var(--toc_header_padding-bottom);
}

.tableList {
	list-style: none;
	margin: 0;
	padding: 0 var(--toc_list_padding-horizontal);
}

.tableListItem > a {
	display: flex;
	align-items: center;
	text-decoration: none;
	min-height: var(--min-target-size_m);
	border-radius: var(--corner-radius_l);
}

.tableListItem:not(.depth2) > a {
	padding: var(--toc_item_padding-vertical) var(--toc_item_padding-end) var(--toc_item_padding-vertical) var(--toc_item_padding-start);
}

.tableListItem:hover > a {
	background: var(--toc_item_background-color_hovered);
}

.tableListItem:active > a {
	background: var(--toc_item_background-color_pressed);
}

.tableListItemLinkInner {
	color: var(--foreground_emphasis-medium);
	pointer-events: none;

}

.tableListItem:hover > a > *, :global(.toc-is-active) .tableListItemLinkInner {
	color: var(--foreground_emphasis-high);
}

.depth1 {
}

.depth2 > a > * {
	margin-left: calc(var(--toc_sub-item_dot_size) + var(--toc_sub-item_dot_margin-end) + var(--toc_sub-item_padding-start));
	position: relative;
}

/* Line */
.depth2:not(:global(.toc-is-active)):not(:hover) > a > *::before {
	content: " ";
	background: var(--toc_divider_color);
	height: 100%;
	width: 2px;
	position: absolute;
	left: calc(-2px - var(--toc_sub-item_padding-start) - calc(var(--toc_sub-item_dot_size) / 2));
	top: 0;
}

/* Extended line */
.depth2:not(:global(.toc-is-active)):not(:hover)
	+ .depth2:not(:global(.toc-is-active)):not(:hover)
	> a > *::before {
	content: " ";
	background: var(--toc_divider_color);
	height: calc(100% + var(--toc_item_min-height));
	width: 2px;
	position: absolute;
	left: calc(-2px - var(--toc_sub-item_padding-start) - calc(var(--toc_sub-item_dot_size) / 2));
	bottom: 0;
	top: unset;
}

/* Arrow */
.depth2:global(.toc-is-active):not(:hover) > a > *::before {
	content: " ";
	background-image: url("/icons/arrow.svg");
	background-repeat: no-repeat;
	background-position: center center;
	height: 100%;
	width: var(--toc_sub-item_dot_size);
	position: absolute;
	left: calc(0px - var(--toc_sub-item_padding-start) - calc(var(--toc_sub-item_dot_size)));
	top: 0;
}

/* Dot */
.depth2:hover > a > *::before {
	content: " ";
	background-image: url("/icons/dot.svg");
	background-repeat: no-repeat;
	background-position: center center;
	height: 100%;
	width: var(--toc_sub-item_dot_size);
	position: absolute;
	left: calc(0px - var(--toc_sub-item_padding-start) - calc(var(--toc_sub-item_dot_size)));
	top: 0;
}

:global(.toc-is-active) > a {
	background: var(--surface_primary_emphasis-low);
}
