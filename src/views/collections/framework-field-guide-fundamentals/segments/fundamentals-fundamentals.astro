---
import "../../framework-field-guide/components/shared-section-styling.scss";
import FundamentalsBookCover from "../../framework-field-guide/segments/fundamentals-book-cover.astro";
import WhatYouNeed from "../components/what-you-need.astro";
import WhatYoullLearn from "../components/what-youll-learn.astro";
import CollectionTableOfContents from "../components/collection-table-of-contents-fundamentals.astro";
import { PostInfo } from "../../../../types/PostInfo";
import { unicorns } from "../../../../utils/data";

const frontmatter = {
	title: "The Framework Field Guide - Fundamentals",
	associatedSeries: "Framework Field Guide",
	description:
		"A practical and free way to teach Angular, React, and Vue all at once, so you can choose the right tool for the job and learn the underlying concepts in depth.",
	authors: ["crutchcorn"],
	coverImg: "/custom-content/collections/framework-field-guide/cover.png",
	socialImg:
		"/custom-content/collections/framework-field-guide/framework_field_guide_social.png",
	type: "book",
	published: "2023-01-01T13:45:00.284Z",
	buttons: [{ text: "Read now", url: "/posts/preface" }],
	authorsMeta: [unicorns.find((uni) => uni.id === "crutchcorn")],
};

const posts = await Astro.glob<PostInfo>(
	"../../../../../content/blog/**/index.md",
);

const chapterList = posts
	.map((post) => post.frontmatter)
	.filter((post) => post.collection === "framework-field-guide-fundamentals")
	.sort((postA, postB) => (postA.order > postB.order ? 1 : -1));
---

<section data-change-color-to="fund">
	<FundamentalsBookCover />

	<div class="class-book-1">
		<div class={`book-section`} style="background: var(--section-background);">
			<WhatYouNeed />
			<CollectionTableOfContents collection={frontmatter} posts={chapterList} />
			<WhatYoullLearn />
		</div>
	</div>
</section>
